import{d as h,r as u,b as k,w as f,_ as C,a as e,g as c,e as a,v as m,c as N,i as j,t as V,h as L,f as R,j as U,k as _,o as p,s as d}from"./index-D22GgNmX.js";import{g as B,a as P,b as E}from"./index-dfc2d82f-B0NF3eKT.js";import{N as I}from"./notyf.min-BkKPNi7r.js";const q={class:"min-h-screen px-4 py-5 bg-gradient-to-br from-orange-50 to-orange-100"},S={class:"mx-auto overflow-hidden bg-white shadow-xl max-w-7xl rounded-xl"},A={class:"p-8"},D={class:"space-y-6"},M={class:"flex flex-col items-center justify-between space-y-6"},O={class:"text-sm"},T={key:0,class:"flex flex-col"},$={class:"mt-6 text-center"},F={class:"text-gray-600"},J=h({__name:"LoginView",setup(G){const x=_(),o=new I({position:{x:"right",y:"top"},ripple:!0,dismissible:!0,duration:7e3}),r=u(""),l=u(""),g=B(),b=async()=>{if(!r.value||!l.value){o.error("Por favor ingresa tu correo y contraseña");return}try{const t=await E(g,r.value,l.value);if(t.user.emailVerified)t.user.displayName&&(d().setUserName(t.user.displayName),o.success("Bienvenido nuevamente "+t.user.displayName),d().setUserLogged(!0),x.push({name:"blog"}));else{o.error("El correo no ha sido verificado, por favor verifica tu correo, si no lo ves en tu bandeja de entrada, revisa la bandeja de spam"),d().setUserLogged(!1);return}}catch(t){console.log(t),d().setUserLogged(!1),o.error("Error al iniciar sesión"+t)}},i=u(!1),v=()=>i.value=!i.value,y=async()=>{try{await P(g,r.value),o.success("Le hemos enviado un correo para restablecer tu contraseña"),r.value=""}catch(t){o.error(`Hubo un error intentando restablecer tu contraseña ${t}`)}};return(t,s)=>{const w=U("RouterLink");return p(),k(C,null,{main:f(()=>[e("section",q,[e("div",S,[e("div",A,[s[10]||(s[10]=e("div",{class:"mb-10 text-center"},[e("div",{class:"mb-6"},[e("i",{class:"text-4xl text-orange-600 fas fa-user-lock"})]),e("h2",{class:"text-3xl font-bold text-gray-800"},"Bienvenido de vuelta"),e("p",{class:"mt-2 text-gray-600"},"Ingresa tus credenciales para continuar")],-1)),e("form",D,[e("div",null,[s[3]||(s[3]=e("label",{class:"block mb-2 text-sm font-semibold text-gray-700"},[e("i",{class:"mr-2 text-orange-600 fas fa-envelope"}),a("Correo electrónico ")],-1)),c(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=n=>r.value=n),name:"email",class:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-600 focus:border-transparent",placeholder:"correo@ejemplo.com",required:""},null,512),[[m,r.value]])]),e("div",null,[s[4]||(s[4]=e("label",{class:"block mb-2 text-sm font-semibold text-gray-700"},[e("i",{class:"mr-2 text-orange-600 fas fa-lock"}),a("Contraseña ")],-1)),c(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=n=>l.value=n),class:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-600 focus:border-transparent",placeholder:"••••••••",required:""},null,512),[[m,l.value]])]),e("div",M,[e("div",O,[e("p",{onClick:v,class:"font-medium text-orange-600 cursor-pointer hover:text-orange-800"},V(i.value?"Cancelar":"Olvidé mi contraseña"),1)]),i.value?(p(),N("div",T,[s[6]||(s[6]=e("label",{for:"remember"},"Ingrese su correo, le enviaremos un enlace para restablecer su contraseña",-1)),c(e("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=n=>r.value=n),id:"remember",name:"remember",class:"p-2 border-2 border-orange-400 rounded-lg",placeholder:"correo@ejemplo.com"},null,512),[[m,r.value]]),e("button",{type:"button",onClick:y,class:"px-4 py-3 mx-auto my-4 font-bold text-white transition-colors duration-300 bg-orange-600 rounded-lg w-3/ 4 hover:bg-orange-700"},s[5]||(s[5]=[e("i",{class:"mr-2 fas fa-sync-alt animate-spin"},null,-1),a("Restablecer")]))])):j("",!0)]),e("button",{onClick:L(b,["prevent"]),type:"submit",class:"w-full px-4 py-3 font-bold text-white transition-colors duration-300 bg-orange-600 rounded-lg hover:bg-orange-700"},s[7]||(s[7]=[a(" Ingresar "),e("i",{class:"ml-2 fas fa-sign-in-alt"},null,-1)])),e("div",$,[e("p",F,[s[9]||(s[9]=a(" ¿No tienes cuenta? ")),R(w,{to:{name:"register"},class:"font-semibold text-orange-600 hover:text-orange-800"},{default:f(()=>s[8]||(s[8]=[a(" Regístrate aquí "),e("i",{class:"ml-1 fas fa-user-plus"},null,-1)])),_:1})])])])]),s[11]||(s[11]=e("div",{class:"hidden px-8 pb-6"},[e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"px-2 text-gray-500 bg-white"},"O ingresa con")])]),e("div",{class:"grid grid-cols-2 gap-3 mt-6"},[e("button",{class:"flex items-center justify-center w-full px-4 py-2 transition-colors border border-gray-300 rounded-lg hover:bg-gray-50"},[e("i",{class:"mr-2 text-orange-600 fab fa-google"}),e("span",{class:"text-sm font-medium text-gray-700"},"Google")]),e("button",{class:"flex items-center justify-center w-full px-4 py-2 transition-colors border border-gray-300 rounded-lg hover:bg-gray-50"},[e("i",{class:"mr-2 text-orange-600 fab fa-facebook"}),e("span",{class:"text-sm font-medium text-gray-700"},"Facebook")])])],-1)),s[12]||(s[12]=e("div",{class:"px-8 py-4 bg-orange-50"},[e("div",{class:"flex items-center justify-center space-x-2"},[e("i",{class:"text-orange-600 fas fa-shield-alt"}),e("p",{class:"text-sm text-gray-600"},"Conexión segura SSL")])],-1))])])]),_:1})}}});export{J as default};
